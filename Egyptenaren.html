<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Diavoorstelling</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: #000;
            color: white;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            position: fixed;
        }
        
        /* Lichteffect bij binnenkomst */
        .light-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            pointer-events: none;
            background: radial-gradient(
                circle at center,
                rgba(255, 255, 255, 1) 0%,
                rgba(255, 255, 255, 0.8) 10%,
                rgba(255, 255, 255, 0) 70%
            );
            animation: lightReveal 2.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0;
        }
        
        @keyframes lightReveal {
            0% {
                opacity: 1;
                transform: scale(0.5);
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: scale(1.5);
                display: none;
            }
        }
        
        /* Media container */
        .media-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
        }
        
        /* Styling voor afbeeldingen */
        .media-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            display: block;
        }
        
        /* Styling voor video's */
        .media-video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #000;
        }
        
        /* Controls overlay */
        .controls-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            pointer-events: none;
        }
        
        /* Navigatie pijlen (alleen voor afbeeldingen) */
        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2.8rem;
            color: rgba(255, 255, 255, 0.7);
            background: rgba(0, 0, 0, 0.3);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 20;
            user-select: none;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            pointer-events: auto;
            opacity: 0;
            animation: fadeInControls 1s ease 3s forwards;
        }
        
        @keyframes fadeInControls {
            to { opacity: 1; }
        }
        
        .arrow:hover {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            transform: translateY(-50%) scale(1.1);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .arrow-left {
            left: 30px;
        }
        
        .arrow-right {
            right: 30px;
        }
        
        /* Progress indicator */
        .progress-container {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 600px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            z-index: 20;
            opacity: 0;
            animation: fadeInControls 1s ease 3s forwards;
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s ease;
        }
        
        /* Media indicator */
        .media-indicator {
            position: fixed;
            bottom: 60px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 20;
            padding: 15px;
            opacity: 0;
            animation: fadeInControls 1s ease 3s forwards;
        }
        
        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            pointer-events: auto;
        }
        
        .indicator-dot:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.2);
        }
        
        .indicator-dot.active {
            background: white;
            transform: scale(1.3);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }
        
        .indicator-dot.video::after {
            content: "▶";
            font-size: 6px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        /* Video controls overlay */
        .video-controls {
            position: fixed;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 20px;
            z-index: 30;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        
        .video-controls.show {
            opacity: 1;
            pointer-events: auto;
        }
        
        .video-btn {
            background: rgba(0, 0, 0, 0.7);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .video-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        /* Loading indicator */
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            z-index: 5;
        }
        
        /* Media info */
        .media-info {
            position: fixed;
            top: 30px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            z-index: 20;
            padding: 15px;
            opacity: 0;
            animation: fadeInControls 1s ease 3s forwards;
        }
        
        /* Responsive aanpassingen */
        @media (max-width: 768px) {
            .arrow {
                width: 50px;
                height: 50px;
                font-size: 2rem;
            }
            
            .arrow-left {
                left: 15px;
            }
            
            .arrow-right {
                right: 15px;
            }
            
            .media-indicator {
                bottom: 50px;
            }
            
            .video-btn {
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
            }
        }
        
        @media (max-width: 480px) {
            .arrow {
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
            
            .media-indicator {
                bottom: 40px;
            }
            
            .indicator-dot {
                width: 10px;
                height: 10px;
            }
            
            .progress-container {
                width: 90%;
                bottom: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- Lichteffect bij binnenkomst -->
    <div class="light-effect" id="lightEffect"></div>
    
    <!-- Media container -->
    <div id="mediaContainer" class="media-container">
        <div class="loading" id="loadingIndicator">Media laden...</div>
    </div>
    
    <!-- Controls overlay -->
    <div class="controls-overlay">
        <!-- Media info -->
        <div class="media-info" id="mediaInfo"></div>
        
        <!-- Navigatie pijlen -->
        <div class="arrow arrow-left" id="prevBtn">‹</div>
        <div class="arrow arrow-right" id="nextBtn">›</div>
        
        <!-- Progress indicator -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <!-- Media indicator -->
        <div class="media-indicator" id="mediaIndicator"></div>
        
        <!-- Video controls -->
        <div class="video-controls" id="videoControls">
            <button class="video-btn" id="playPauseBtn" title="Afspelen/Pauzeren">
                <span id="playIcon">▶</span>
            </button>
            <button class="video-btn" id="fullscreenBtn" title="Volledig scherm">
                <span>⛶</span>
            </button>
            <button class="video-btn" id="skipVideoBtn" title="Video overslaan">
                <span>⏭</span>
            </button>
        </div>
    </div>

    <script>
        // Media items - VERVANG DIT MET JE EIGEN MEDIA
        const mediaItems = [
            {
                type: 'image',
                src: 'Egypte/Egypte 1.jpg',
                caption: 'Caption',
                duration: 5000 // aantal seconden tot volgende
            },
            {
                type: 'image',
                src: 'Egypte/Egypte 2.jpg',
                caption: 'Caption',
                duration: 5000 // aantal seconden tot volgende
            }
            // Voeg meer afbeeldingen/video's toe zoals nodig
        ];
        
        // Configuratie
        const config = {
            redirectAfterAll: 'fotos.html', // Waarnaartoe doorsturen na alle media
            autoPlayVideos: true,
            showControls: true,
            preloadNext: true
        };
        
        // Status variabelen
        let currentIndex = 0;
        let isPlaying = true;
        let isVideoPlaying = false;
        let mediaTimer = null;
        let isLoading = false;
        
        // DOM elementen
        const lightEffect = document.getElementById('lightEffect');
        const mediaContainer = document.getElementById('mediaContainer');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const mediaIndicator = document.getElementById('mediaIndicator');
        const mediaInfo = document.getElementById('mediaInfo');
        const videoControls = document.getElementById('videoControls');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playIcon = document.getElementById('playIcon');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const skipVideoBtn = document.getElementById('skipVideoBtn');
        
        // Initialiseer media indicator
        function createMediaIndicator() {
            mediaIndicator.innerHTML = '';
            mediaItems.forEach((item, index) => {
                const dot = document.createElement('div');
                dot.className = `indicator-dot ${item.type === 'video' ? 'video' : ''} ${index === currentIndex ? 'active' : ''}`;
                dot.dataset.index = index;
                dot.addEventListener('click', () => loadMedia(index));
                mediaIndicator.appendChild(dot);
            });
        }
        
        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentIndex + 1) / mediaItems.length) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        // Laad media item
        async function loadMedia(index) {
            if (index < 0 || index >= mediaItems.length || isLoading) return;
            
            isLoading = true;
            currentIndex = index;
            
            // Update UI
            updateProgressBar();
            updateMediaIndicator();
            showLoading(true);
            
            // Verwijder vorige media
            mediaContainer.innerHTML = '';
            
            const mediaItem = mediaItems[index];
            mediaInfo.textContent = mediaItem.caption || '';
            
            if (mediaItem.type === 'image') {
                await loadImage(mediaItem);
            } else if (mediaItem.type === 'video') {
                await loadVideo(mediaItem);
            }
            
            showLoading(false);
            isLoading = false;
        }
        
        // Laad afbeelding
        async function loadImage(mediaItem) {
            return new Promise((resolve) => {
                const img = document.createElement('img');
                img.className = 'media-image';
                img.src = mediaItem.src;
                img.alt = mediaItem.caption || 'Afbeelding';
                
                img.onload = () => {
                    mediaContainer.appendChild(img);
                    setupImageTimer(mediaItem.duration);
                    showVideoControls(false);
                    resolve();
                };
                
                img.onerror = () => {
                    console.error('Afbeelding laden mislukt:', mediaItem.src);
                    mediaContainer.innerHTML = `<div style="color: white; text-align: center;">Afbeelding niet gevonden: ${mediaItem.src}</div>`;
                    setTimeout(() => nextMedia(), 3000);
                    resolve();
                };
            });
        }
        
        // Laad video
        async function loadVideo(mediaItem) {
            return new Promise((resolve) => {
                const video = document.createElement('video');
                video.className = 'media-video';
                video.src = mediaItem.src;
                video.controls = false;
                video.autoplay = config.autoPlayVideos;
                video.playsInline = true;
                
                // Video event listeners
                video.addEventListener('loadeddata', () => {
                    mediaContainer.appendChild(video);
                    setupVideoEvents(video, mediaItem);
                    showVideoControls(true);
                    updateVideoPlayButton(!video.paused);
                    resolve();
                });
                
                video.addEventListener('error', () => {
                    console.error('Video laden mislukt:', mediaItem.src);
                    mediaContainer.innerHTML = `<div style="color: white; text-align: center;">Video niet gevonden: ${mediaItem.src}</div>`;
                    setTimeout(() => nextMedia(), 3000);
                    resolve();
                });
                
                video.addEventListener('click', toggleVideoPlay);
            });
        }
        
        // Setup video events
        function setupVideoEvents(video, mediaItem) {
            video.addEventListener('play', () => {
                isVideoPlaying = true;
                updateVideoPlayButton(false);
            });
            
            video.addEventListener('pause', () => {
                isVideoPlaying = false;
                updateVideoPlayButton(true);
            });
            
            video.addEventListener('ended', () => {
                if (mediaItem.autoNext) {
                    nextMedia();
                }
            });
            
            // Probeer video te starten
            if (config.autoPlayVideos) {
                const playPromise = video.play();
                if (playPromise !== undefined) {
                    playPromise.catch(() => {
                        // Autoplay geblokkeerd, toon play button
                        updateVideoPlayButton(true);
                    });
                }
            }
        }
        
        // Setup timer voor afbeeldingen
        function setupImageTimer(duration) {
            clearTimeout(mediaTimer);
            if (isPlaying && duration > 0) {
                mediaTimer = setTimeout(() => nextMedia(), duration);
            }
        }
        
        // Volgende media
        function nextMedia() {
            clearTimeout(mediaTimer);
            
            if (currentIndex >= mediaItems.length - 1) {
                // Laatste item, doorsturen naar fotos.html
                window.location.href = config.redirectAfterAll;
                return;
            }
            
            loadMedia(currentIndex + 1);
        }
        
        // Vorige media
        function prevMedia() {
            clearTimeout(mediaTimer);
            
            if (currentIndex <= 0) return;
            loadMedia(currentIndex - 1);
        }
        
        // Update media indicator
        function updateMediaIndicator() {
            document.querySelectorAll('.indicator-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }
        
        // Toon/verberg loading indicator
        function showLoading(show) {
            loadingIndicator.style.display = show ? 'block' : 'none';
        }
        
        // Toon/verberg video controls
        function showVideoControls(show) {
            if (show) {
                videoControls.classList.add('show');
            } else {
                videoControls.classList.remove('show');
            }
        }
        
        // Update video play button
        function updateVideoPlayButton(isPaused) {
            playIcon.textContent = isPaused ? '▶' : '⏸';
        }
        
        // Toggle video play/pause
        function toggleVideoPlay() {
            const video = document.querySelector('video');
            if (!video) return;
            
            if (video.paused) {
                video.play();
            } else {
                video.pause();
            }
        }
        
        // Toggle fullscreen voor video
        function toggleFullscreen() {
            const video = document.querySelector('video');
            if (!video) return;
            
            if (!document.fullscreenElement) {
                if (video.requestFullscreen) {
                    video.requestFullscreen();
                }
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }
        
        // Initialiseer de diavoorstelling
        function initSlideshow() {
            // Verwijder lichteffect na animatie
            setTimeout(() => {
                lightEffect.style.display = 'none';
            }, 2500);
            
            // Maak media indicator
            createMediaIndicator();
            
            // Event listeners
            prevBtn.addEventListener('click', prevMedia);
            nextBtn.addEventListener('click', nextMedia);
            
            // Video controls
            playPauseBtn.addEventListener('click', toggleVideoPlay);
            fullscreenBtn.addEventListener('click', toggleFullscreen);
            skipVideoBtn.addEventListener('click', nextMedia);
            
            // Keyboard navigatie
            document.addEventListener('keydown', (e) => {
                switch(e.key) {
                    case 'ArrowLeft':
                        e.preventDefault();
                        prevMedia();
                        break;
                    case 'ArrowRight':
                    case ' ':
                        e.preventDefault();
                        nextMedia();
                        break;
                    case 'f':
                    case 'F':
                        e.preventDefault();
                        toggleFullscreen();
                        break;
                    case 'Escape':
                        if (document.fullscreenElement) {
                            document.exitFullscreen();
                        }
                        break;
                }
            });
            
            // Swipe functionaliteit
            let touchStartX = 0;
            
            document.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
            }, { passive: true });
            
            document.addEventListener('touchend', (e) => {
                if (!touchStartX) return;
                
                const touchEndX = e.changedTouches[0].clientX;
                const diffX = touchStartX - touchEndX;
                const swipeThreshold = 50;
                
                if (Math.abs(diffX) > swipeThreshold) {
                    if (diffX > 0) {
                        nextMedia(); // Swipe links = volgende
                    } else {
                        prevMedia(); // Swipe rechts = vorige
                    }
                }
                
                touchStartX = 0;
            }, { passive: true });
            
            // Fullscreen change events
            document.addEventListener('fullscreenchange', () => {
                const video = document.querySelector('video');
                if (video && !document.fullscreenElement) {
                    // Terugkeren van fullscreen
                    video.controls = false;
                }
            });
            
            // Start met eerste media
            setTimeout(() => loadMedia(0), 500);
        }
        
        // Start de diavoorstelling
        window.addEventListener('DOMContentLoaded', initSlideshow);
    </script>
</body>
</html>
